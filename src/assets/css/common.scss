html, body, #app, #intro, #survey, #result, #guarantee {
  height: 100%;
}

.layerPopupEnter-enter,
.layerPopupEnter-leave-to {
  opacity: 0;
}
.layerPopupEnter-enter-active,
.layerPopupEnter-leave-active {
  transition: opacity 0.2s;
}

#intro {
  display: flex;
  justify-content: space-between;
  flex-direction: column;

  position: relative;
  padding: 0 2.5rem 5.5rem;
  background: url('~@/assets/img/intro/img_visual.png') no-repeat 50% 70%;
  background-size: cover;
  > div:nth-child(1) {
    padding-top: 10vh;
    > h1 {
      img {
        display:block;
        width: 100%;
        & + img {
          display: none;
        }
      }
    }
    > p {
      margin-top: 3vh;
      font-size: 1.4rem;
      font-weight: 300;
      color: #fff;
      line-height: 1;
    }
  }
  > div:nth-child(2) {
    padding-bottom: 6vh;
    > a {
      display: flex;
      justify-content: center;
      align-items: center;

      width: 100%;
      max-width: 40rem;
      height: 6.4rem;
      background: #F7B500;
      border: 0 none;
      border-radius: 3.2rem;
      img {
        display: block;
        width: 10rem;
      }
    }
    > span {
      position: relative;
      display: block;
      margin-top: 2rem;
      padding-left: 1.4rem;

      font-size: 1.1rem;
      font-weight: 400;
      color: #fff;
      word-break: keep-all;
      br {display:none}
      &:after {
        content: '※';
        position: absolute;
        top: 0;
        left: 0;
      }
    }
  }
  > img {
    position: absolute;
    bottom: 2.5rem;
    left: 50%;
    transform: translateX(-50%);
    width: 10rem;
  }
  > button {
    position: fixed;
    bottom: 5.5rem;
    right: 2rem;
    width: 4.6rem;
    height: 4.6rem;
    background: url('~@/assets/img/intro/icon_share.png') no-repeat;
    background-size: 100%;

    font-size: 0;
    line-height: 0;

    border: 0 none;
  }
}

#survey {
  position: relative;
  background: #F4F9FF;
  .progressTimerBox {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    .stepProgress {
      position: relative;
      z-index: 2000;

      padding-top: 1.5rem;
      text-align: center;
      > ul {
        display: inline-flex;
        justify-content: space-between;
        align-items: center;
        height: 1.8rem;
        > li {
          span {
            display: inline-flex;
            justify-content: center;
            align-items: center;

            width: 0.8rem;
            height: 0.8rem;
            margin: 0.4rem;

            border-radius: 50%;
            background: #D7D7D7;

            font-size: 1.1rem;
            line-height: 1;
            color: transparent;
            letter-spacing: -1px;
          }
          &.off {
            span {
              background: #406EFF;
            }
          }
          &.active {
            span {
              width: 1.6rem;
              height: 1.6rem;
              margin: 0;
              background: #F7B500;
              color: #fff;

            }
          }
        }
      }
    }
    .timer {
      position: relative;
      z-index: 2000;
      padding: 1.7rem 3rem 0 0;
      text-align: right;
      > div {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        width: 7rem;
        height: 3rem;

        background: #F4F5F7;
        border-radius: 1.5rem;
        span {
          font-size: 2rem;
          font-weight: 400;
          color: #252B65;
          line-height: 1;
          font-family: 'LABDigital';
        }
        span + span {padding-left: 0.4rem;}
        &.on {
          span {color: #EE4E55;}
        }
      }
    }
  }
  .questionBox {
    height: 100%;
    padding: 0 1.5rem 7rem;
    > div {
      position: relative;
      z-index: 1000;

      display: none;
      height: 100%;
      .visualBox {
        position: relative;
        z-index: -1;
        width: 100%;
        height: 55%;
        overflow: hidden;
        border-radius: 0 0 1.5rem 1.5rem;
        > img {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          border-radius: 0 0 1.5rem 1.5rem;
          & + img {display: none;}
        }
        .titleBox {
          position: relative;
          padding: 8rem 0 2rem 0;
          height: 100%;
          h2 {
            padding-top: 3vh;
            img {
              display: block;
              width: 100%;
            }
            img:first-child {
              margin-bottom: 0.6rem;
            }
          }
        }
      }

      .answerBox {
        width: calc(100% - 3rem);
        height: 24rem;
        margin: -2rem auto 0;

        display: flex;
        flex-direction: column;
        button {
          flex: 1 1 0;
          display: flex;
          justify-content: center;
          align-items: center;

          border: 0 none;
          border-radius: 1.5rem;
          background: #fff;
          box-shadow: 0.2rem 0.2rem  1.5rem rgba(0, 0, 0, 0.6);

          font-size: 1.8rem;
          font-weight: 800;
          color: #252B65;
          line-height: 1;
          em {
            display: block;
            position: relative;
            padding-left: 4rem;
            line-height: 3.2rem;
            &:after {
              content: '';
              position: absolute;
              top: 0;
              left: 0;
              width: 3.3rem;
              height: 3.3rem;
              background: url('~@/assets/img/survey/icon_gender.png') no-repeat;
              background-size: auto 6.6rem;
            }
          }
          span {
            width: 4rem;
            height: 4rem;
            background: url('~@/assets/img/survey/icon_ox.png') no-repeat;
            background-size: 8rem auto;
            font-size: 0;
            line-height: 0;
          }
          &.on {
            background: #406EFF;
            color: #fff;
            span {background-position: 0 -4rem;}
            em:after {background-position: 0 -3.3rem;}
          }
          & + button {
            em:after {background-position: -3.3rem 0;}
            &.on {
              em:after {background-position: -3.3rem -3.3rem;}
            }
          }
        }
        button + button {
          margin-top: 1rem;
          span {background-position: -4rem 0;}
          &.on span {background-position: -4rem -4rem}
        }
      }
      
      .btnBox {
        position: fixed;
        bottom: 3rem;
        left: 3rem;
        width: calc(100% - 6rem);
    
        display: flex;
        justify-content: space-between;
        button {
          width: calc(50% - 0.5rem);
          height: 4rem;
          background: #DCE5F1;
          border-radius: 2.5rem;
          border: 0 none;
    
          font-size: 1.6rem;
          font-weight: 400;
          line-height: 1;
          color: #252B65;
        }
        button + button {
          background: #F7B500;
          color: #fff;
        }
      }
      &.on {
        display: block;
      }
    }
  }
  #layerTimeover {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 2000;
    width: 100%;
    height: 100%;
    
    display: flex;
    justify-content: center;
    align-items: center;

    padding: 2.5rem;
    background: rgba(0, 0, 0, 0.3);
    .inner {
      position: relative;
      width: 100%;
      padding: 5rem 0;
      background: #fff;
      border-radius: 1.5rem;
      > img {
        display: block;
        width: 17.4rem;
        margin: 0 auto;
        & + img {
          width: 15.7rem;
          margin-top: 2.5rem;
        }
      }
      > p {
        margin-top: 2rem;
        font-size: 1.8rem;
        font-weight: 400;
        color: #252B65;
        line-height: 1.2;
        text-align: center;
        letter-spacing: -1px;
        strong {
          display: block;
          font-weight: 800;
        }
      }
      > button {
        display: block;
        margin: 2rem auto 0;
        width: 19rem;
        height: 5rem;

        border: 0 none;
        border-radius: 2.5rem;
        background: #DCE5F1;

        font-size: 1.6rem;
        font-weight: 500;
        color: #252B65;
      }
    }
  }
}

#result {
  position: relative;
  background: url('~@/assets/img/intro/img_visual.png') no-repeat 50% 70%;
  background-size: cover;
  > .inner {
    height: 100%;
    .titleBox {
      position: relative;
      height: 25%;
      h2 {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        padding: 0 0 2% 0;
        img {
          display: block;
          width: 100%;
          & + img {
            display: none;
          }
        }
      }
    }
    .contentBox {
      padding: 0 2.5rem 8rem;
      height: calc(100% - 25%);
      max-width: 1080px;
      .inner {
        height: 100%;
        .visualContents {
          > ul {
            margin: 0 0.5rem;
            padding: 0 1.5rem;
            background: #F4F9FF;
            border-radius: 1.5rem;
            > li {
              display: flex;
              padding: 1rem 0;

              font-size: 1.4rem;
              font-weight: 800;
              color: #252B65;
              line-height: 1;
              h3, em {
                width: 10.4rem;
                height: 3.2rem;

                line-height: 3.2rem;
                text-align: right;

                padding-right: 0.7rem;
                box-sizing: border-box;
              }
              h3 {
                position: relative;
                padding-left: 3.4rem;
                font-size: 1.5rem;
                &:after {
                  content: '';
                  position: absolute;
                  top: 0;
                  left: 0;
                  width: 3rem;
                  height: 3rem;
                  background: url('~@/assets/img/result/icon_disease1.png') no-repeat 50% 50%;
                  background-size: 100%;
                }
              }
              em {font-size: 1.4rem;}
              > div {
                > ul {
                  > li {
                    display: flex;
                    height: 3.2rem;
                  }
                }
              }
              .graph {
                position: relative;
                width: calc(100% - 10.4rem);
                border-left: 1px solid #252B65;
                span {
                  position: absolute;
                  top: 50%;
                  left: 0;
                  transform: translateY(-50%);
                  width: 0;
                  height: 2rem;
                  background:#406EFF;
                  border-radius: 0 1rem 1rem 0;
                  transition: width 0.5s ease-in-out;
                }
              }
              & + li {border-top: 1px solid #BBC5FF;}
            }
            li.on {
              h3, em {color: #F7B500;}
              .graph span {background: #F7B500;}
            }
            > li:nth-child(1) {
              flex-direction: column;
              h3 {
                width: 100%;
                border: 0 none;
                text-align: left;
              }
              > div {
                width: 100%;
              }
            }
            > li:nth-child(2) h3 {
              line-height: 1.1;
              &:after {top: 50%;transform: translateY(-50%);}
            }
            > li:nth-child(2) h3:after {
              background-image: url('~@/assets/img/result/icon_disease2.png');
            }
            > li:nth-child(3) h3:after {
              background-image: url('~@/assets/img/result/icon_disease3.png');
            }
          }
          > div.text {
            > p {
              position: relative;
              margin-top: 1rem;
              padding-left: 1.6rem;
              font-size: 1.2rem;
              font-weight: 400;
              color: #fff;
              &:after {
                content: '※';
                position: absolute;
                top: 0;
                left: 0;
              }
            }
          }
          > .btnBox {
            position: fixed;
            bottom: 3rem;
            left: 3rem;
            width: calc(100% - 6rem);

            display: flex;
            justify-content: space-between;
            button {
              width: calc(50% - 0.5rem);
              height: 5rem;

              border: 0 none;
              border-radius: 2.5rem;
              background: #DCE5F1;

              font-size: 1.6rem;
              font-weight: 500;
              color: #252B65;
              line-height: 1;
            }
            button:only-child {
              width: 100%;
            }
            button + button {
              background: #F7B500;
              color: #fff;
            }
          }
        }
      }
    }
  }
  &.guarantee {
    > .inner {
      .titleBox {
        h2 {
          img {
            display: block;
            & + img {
              display: none;
            }
          }
        }
        span {
          position: absolute;
          bottom: 21%;
          left: 28%;

          width: 19%;
          height: 27%;

          display: flex;
          justify-content: center;
          align-items: center;

          // padding: 0 1rem 0 0;
          box-sizing: border-box;

          font-size: 2.5rem;
          font-weight: 800;
          line-height: 1;
          color: #252B65;
          // &:after {
          //   content: '';
          //   position: absolute;
          //   top: 50%;
          //   right: 0.8rem;
          //   transform: translateY(-50%);
          //   width: 1.8rem;
          //   height: 1.8rem;
          //   background: url('~@/assets/img/guarantee/icon_q.png') no-repeat 50% 50%;
          //   background-size: 100%;
          // }
        }
      }
      .contentBox {
        .inner {
          .visualContents {
            > .guaranteePopup {
              margin: 0 0.5rem;
              padding: 1.2rem 1.2rem 0;
              background: #F4F9FF;
              border-radius: 1.5rem;
              text-align: center;
              font-size: 1.4rem;
              font-weight: 800;
              color: #252B65;
              > p {
                line-height: 1.2;
              }
              > ul {
                position: relative;
                display: flex;
                justify-content: space-between;
                flex-wrap: wrap;
                > li {
                  width: 50%;
                  margin: 1rem 0;
                  > img {
                    display: block;
                    margin: 0 auto;
                    width: 6rem;
                    height: 6rem;
                  }
                  > span {
                    display: block;
                    margin-top: 0.5rem;
                    font-weight: 400;
                    line-height: 1;
                  }
                  > strong {
                    position: relative;
                    display: inline-block;
                    padding-right: 2.2rem;
                    font-size: 1.8rem;
                    line-height: 3rem;
                    letter-spacing: -2px;
                    span {
                      display: inline-block;
                      min-width: 6rem;
                      margin-top: 0.5rem;

                      background-color: #DCE5F1;
                      border-radius: 1.5rem;

                      color: #406EFF;
                      letter-spacing: 0;
                    }
                    &:after {
                      content: '';
                      position: absolute;
                      top: 56%;
                      right: 0;
                      transform: translateY(-50%);
                      width: 1.8rem;
                      height: 1.8rem;
                      background: url('~@/assets/img/guarantee/icon_q.png') no-repeat 50% 50%;
                      background-size: 100%;
                    }
                  }
                }
                &:before {
                  content: '';
                  position: absolute;
                  top: 1rem;
                  left: 50%;
                  width: 1px;
                  height: calc(100% - 2rem);
                  border-right: 1px dashed #406EFF;
                }
                &:after {
                  content: '';
                  position: absolute;
                  top: 50%;
                  left: 0;
                  width: 100%;
                  height: 1px;
                  border-top: 1px dashed #406EFF;
                }
              }
            }
            > p {
              margin-top:0.8rem;
              padding: 0;
              font-size: 1.6rem;
              line-height: 1.2;
              color: #fff;
              text-align: center;
              span {display:block;}
              &:after {display: none;}
            }
          }
        }
      }
    }
    #layerPopup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      padding: 2.5rem;
      background: rgba(0, 0, 0, 0.3);
      .inner {
        position: relative;
        padding: 5rem 0;
        height: 100%;
        background: #fff;
        border-radius: 1.5rem;
        .visual {
          overflow: auto;
          height: 100%;
          img {
            display: none;
            width: 100%;
            &.on {display: block;}
          }
          & + .visual {display: none;}
        }
        button {
          position: absolute;
          top: 1rem;
          right: 1rem;

          width: 3.6rem;
          height: 3.6rem;

          background: url('~@/assets/img/guarantee/icon_close.png') no-repeat;
          background-size: 100%;

          font-size: 0;
          line-height: 0;
          border: 0 none;
        }
      }
    }
  }
}

// 카카오, 삼성 브라우저 스타일 분리
#app.on {
  #intro > button {display:block;}

  #survey {
    .questionBox {
      > div {
        .visualBox .titleBox h2 {padding-top:1vh;}
        .answerBox {height: 22rem;}
      }
    }
  }

  #result {
    > .inner {
      .contentBox {
        .inner {
          .visualContents {
            > ul > li {padding: 0.8rem 0;}
            > div.text p {margin-top: 0.5rem;}
          }
        }
      }
    }
    &.guarantee {
      > .inner {
        .contentBox {
          .inner {
            .visualContents {
              > .guaranteePopup {
                padding: 1rem 1rem 0;
                > ul > li {
                  margin: 0.8rem 0;
                  > span {margin-top: 0.6rem}
                  > strong {font-size: 1.6rem;}
                  > img {
                    width: 5rem;
                    height: 5rem;
                  }
                }
              }
              > p {
                font-size: 1.4rem;
                span {display: block;}
              }
            }
          }
        }
      }
    }
  }
}